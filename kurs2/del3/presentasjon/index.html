<!DOCTYPE html>
<html>
  <head>
    <title>Lynkurs i webutvikling</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://github.com/downloads/gnab/remark/remark-0.3.4.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
    <script src="https://github.com/downloads/kjbekkelund/remark-bekk/bekk-0.0.3.js" type="text/javascript"></script>
    <link href="https://github.com/downloads/kjbekkelund/remark-bekk/bekk-0.0.3.css" type="text/css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Snowburst+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Griffy' rel='stylesheet' type='text/css'>

    <style type="text/css" media="screen">
        a { cursor: pointer; }
        .table-center {
            margin: 0 auto;
        }
        .fullimage {
            padding: 0 !important;
        }
        .fullimage p {
            margin: 0;
        }

        .fullimage img {
            max-width: 100%;
            max-height: 100%;
        }

    </style>
  <script type="text/javascript">
      $(document).on('click', '#event-1', function (event) {
        alert("je klikke!");
      });

      $(document).on("click", "table button", function (event) {
        alert("je klikke!");

        var $currentTarget = $(event.currentTarget); // gir deg knappen
        console.log($currentTarget);

        var $this = $(this); // gir deg også knappen
        console.log($this);
      });

      $(document).on("click", "#timeout-1", function (event) {

        setTimeout(function () {
          alert("Det har gått 2 sekunder!")
        }, 2000);
      });

      var timeoutId;
      $(document).on("click", "#timeout-2", function (event) {

        timeoutId = setTimeout(function () {
          alert("2 sekunder!")
        }, 2000);
      });

      $(document).on("click", "#timeout-3", function (event) {
        clearTimeout(timeoutId);
      });
    </script>


  </head>
  <body>
    <textarea id="source">

.agenda

# Avansert js

* jQuery-triks
* Eventer
* timing

---

.middle.center
# html attributes

`.attr()` `.val()` `.data()` `.prop()`

---

# html attributes

    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />

---

# html attributes

    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />

## .attr()

Returnerer/setter innholdet i attributtt

    var $input = $('input');
    $input.attr("type")             // returnerer "checkbox"
    $input.attr("type", "radio")    // setter type til "radio"

---

# html attributes

    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />

## .val()

Returnerer/setter verdien

    var $input = $('input');
    $input.val()                // returnerer "first"
    $input.val("bestoption")    // setter verdien til "bestoption"

---

# html attributes

    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />

## .data()

Returnerer/setter data attributt verdien

    var $input = $('input');
    $input.data("namespace")                // returnerer "dance"
    $input.data("namespace", "letsdance")   // setter verdien til "letsdance"

---

# html attributes

    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />

## .prop()

Returnerer/setter boolske verdier

    var $input = $('input');
    $input.prop("checked")          // true
    $input.prop("checked", true)    // setter "checked" attributtet
    $input.prop("checked", false)   // fjerner "checked" attributtet

---

.middle.center

# Events

---

# Events

    <button>Trykk her!</button>

<br>

      var $button = $('button');
      $button.on("click", function (event) {
          alert("je klikke!")
      });

<button id="event-1">Trykk her!</button>

---

.middle.center

# TODO Event propagering

---

.center

# Event propagering

100 knapper = 100 event bindinger!

<table class="table-center">
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
</table>

Må vi gjøre det 100 ganger?

---

# Event propagering
![Event propagation 1](img/event-propagering-1.png)

---

# Event propagering
![Event propagation 2](img/event-propagering-2.png)

---

# Event propagering
![Event propagation 3](img/event-propagering-3.png)

---

# Event propagering
![Event propagation 4](img/event-propagering-4.png)

---

# Event propagering
![Event propagation 5](img/event-propagering-5.png)

---

# Event propagering

    <table>
      <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        ...
      </tr>
      <tr>
        ...

Holder med én lytter!

    $("table").on("click", "button", function (event) {
        alert("je klikke!")
    });

---

# Event propagering

    $table.on("click", "button", function (event) {

        var $knappen = $(event.currentTarget); // gir deg knappen

        var $sammeKnappen = $(this); // gir deg også knappen
    });

---

.middle.center
# Event objekt

.javascript.event

    $enLink.on("click", function (event) { });

---

# Event objekt

    $enLink.on("click", function (event) {

        // hindrer standard nettleseroppførsel
        event.preventDefault();
    });

<br>

    $enLink.on("click", function (event) {

        // stopper at eventet bobler videre til andre elementer
        event.stopPropagation();
    });

---
.middle.center

# Timing
![Timing cat](img/catswingtail.gif)

---
.middle.center

    <a id="timeout-1">SnozzzzzZZZzz i 2 sekunder</a>

![Tired cat](img/Im_So_Tired_Cat.jpg)

---

# Timing

    $enLink.on("click", function (event) {

        setTimeout(function () {
            alert("Det har gått 2sekunder!")
        }, 2000);
    });

<a href="#18" id="timeout-1">Klikk meg</a>

---

# timing

    var timeoutId;

    $linkEn.on("click", function (event) {

      timeoutId = setTimeout(function () {
        alert("2 sekunder!")
      }, 2000);

    });

    $linkTo.on("click", function (event) {
      clearTimeout(timeoutId);
    });

<a id="timeout-2">link én - 2 sec timout</a><br>
<a id="timeout-3">link to - clear timeout</a>

---

# Siste oppgave

&nbsp;

##Eventer

1. Vise stor versjon av bilde ved klikk

2. Legg til et søkefelt der man kan søke `tags` på flickr

3. Oppdater søk ved skriving in søkefeltet (Hint: `keyup-event`)

##Attributter

1. Hente ut title-attributt fra bildet å vise denne som en bildetittel

[Løsningsforslag](../losning/index.html)

---
.middle.center.fullimage
![Screenshot løsningsforslag](img/losningsforslag.png)

    </textarea>
    <div id="slideshow"></div>
  </body>
</html>
